<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">    
</head>
<body>
<div th:fragment="resultsList" th:unless="${#lists.isEmpty(newsListData)}" id="results-block">
  <div class="container">
    <div class="row">
      <th:block th:each="newsVO : ${newsListData}">
        <div class="col-md-12 mb-3">
          <div class="card shadow">
            <div class="row g-0">
              <div class="col-md-4 img-container">
                <img th:src="@{/newspic/DBGifReader2(newsNo=${newsVO.newsNo})}" class="img-fluid rounded-start" alt="新聞圖片" style="height: 250px; object-fit: cover;">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title" th:text="${newsVO.newsTitle}">新聞標題</h5>
                  <p class="card-text" th:if="${newsVO.newsContent.length() > 100}" th:text="${#strings.substring(newsVO.newsContent, 0, 100) + '...'}">新聞內容</p>
                  <p class="card-text" th:unless="${newsVO.newsContent.length() > 100}" th:utext="${newsVO.newsContent}">新聞內容</p>
                  <form method="post" th:action="@{/news/newsDetails}" id="detailForm">
                    <input type="hidden" name="newsNo" th:value="${newsVO.newsNo}" />
                    <button type="submit" class="btn btn-primary">更多內容</button>
                  </form>
                  <p class="card-text"><small class="text-muted" th:text="${newsVO.newsPublishTime}">發布日期</small></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </th:block>
    </div>
  </div>
</div>
</body>
</html>